<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo Manager Pro - Professional UI</title>
    <script src="../assistive.js"></script>    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: radial-gradient(circle at top left, #4facfe 0%, #00f2fe 100%);
            min-height: 100vh; padding: 20px; color: #2d3436;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .header {
            background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(12px);
            padding: 25px; border-radius: 24px; margin-bottom: 24px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1); border: 1px solid rgba(255,255,255,0.4);
        }
        .header h1 {
            font-size: 26px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 4px;
        }
        .stats-bar {
            display: grid; grid-template-columns: repeat(2, 1fr);
            gap: 16px; margin-top: 20px;
        }
        .stat-item {
            padding: 15px; background: rgba(255,255,255,0.6); border-radius: 18px;
            text-align: center; cursor: pointer; transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.4);
        }
        .stat-item.active-filter { border-color: #4facfe; background: #fff; transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.05); }
        .stat-value { font-size: 28px; font-weight: 800; margin-bottom: 2px; }
        .stat-label { font-size: 11px; color: #636e72; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
        .stat-icon { font-size: 22px; margin-bottom: 4px; }
        .stat-item.overdue .stat-value { color: #ff7675; }
        .stat-item.safe .stat-value { color: #55efc4; }

        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); backdrop-filter: blur(8px);
            display: none; justify-content: center; align-items: center; z-index: 1000;
        }
        .add-task-section {
            background: white; padding: 30px; border-radius: 28px;
            width: 90%; max-width: 450px; position: relative;
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
        }
        .btn-open-modal {
            position: fixed; bottom: 30px; right: 30px; width: 64px; height: 64px;
            border-radius: 50%; background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white; border: none; font-size: 32px; cursor: pointer;
            box-shadow: 0 10px 25px rgba(79, 172, 254, 0.5); z-index: 999;
            transition: 0.3s;
        }
        .btn-open-modal:hover { transform: scale(1.1) rotate(90deg); }

        .alert-banner {
            background: linear-gradient(135deg, #ff7675 0%, #d63031 100%);
            color: white; padding: 15px 20px; border-radius: 16px;
            margin-bottom: 20px; display: flex; align-items: center; gap: 16px;
            cursor: pointer; animation: danger-blink 1s infinite alternate;
            border: 2px solid rgba(255,255,255,0.3); box-shadow: 0 10px 20px rgba(214, 48, 49, 0.3);
        }

        @keyframes danger-blink {
            0% { transform: scale(1); filter: brightness(1); }
            100% { transform: scale(1.02); filter: brightness(1.1); }
        }

        .form-group { display: flex; flex-direction: column; gap: 8px; margin-bottom: 15px; }
        .form-group label { font-size: 13px; font-weight: 700; color: #2d3436; }
        .form-group input, .form-group select { padding: 12px; border: 2px solid #f1f2f6; border-radius: 12px; width: 100%; transition: 0.3s; }
        .form-group input:focus { border-color: #4facfe; outline: none; }
        .btn-add {
            width: 100%; padding: 14px; background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white; border: none; border-radius: 12px; font-weight: 700; cursor: pointer; box-shadow: 0 5px 15px rgba(79, 172, 254, 0.3);
        }

        .tasks-grid { display: flex; flex-direction: column; gap: 12px; }
        .task-card { 
            background: white; padding: 16px 20px; border-radius: 18px; 
            border-left: 6px solid #dfe6e9; transition: 0.3s;
            display: grid; grid-template-columns: 1fr auto auto; align-items: center; gap: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.02);
        }
        .task-card:hover { transform: translateX(8px); box-shadow: 0 8px 15px rgba(0,0,0,0.05); background: #fff; }
        .task-card.overdue { border-left-color: #ff7675; }
        .task-card.urgent { border-left-color: #fdcb6e; }
        .task-card.warning { border-left-color: #74b9ff; }
        .task-card.safe { border-left-color: #55efc4; }
        
        .task-title { font-size: 15px; font-weight: 700; color: #2d3436; line-height: 1.4; }
        .task-detail-sub { font-size: 12px; color: #b2bec3; font-weight: 400; margin-left: 4px; }
        .deadline-info { font-size: 12px; color: #636e72; font-family: 'Courier New', monospace; font-weight: 600; text-align: right; }
        .btn-icon { width: 36px; height: 36px; border: none; border-radius: 10px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: 0.2s; }
        .btn-icon:hover { transform: scale(1.1); filter: brightness(0.9); }
        .priority-badge { padding: 3px 8px; border-radius: 6px; font-size: 9px; font-weight: 800; text-transform: uppercase; background: #f1f2f6; margin-left: 8px; color: #636e72;}

        @media (max-width: 600px) {
            .task-card { grid-template-columns: 1fr; gap: 8px; padding: 15px; }
            .task-footer-mobile { display: flex; justify-content: space-between; align-items: center; margin-top: 5px; }
            .deadline-info { text-align: left; }
        }

        /* Tabs UI */
        .tabs-container {
            display: flex; margin-top: 24px; padding: 10px; 
            background: rgba(255,255,255,0.3); backdrop-filter: blur(10px);
            border-radius: 20px 20px 0 0; gap: 8px; border: 1px solid rgba(255,255,255,0.2);
        }
        .time-tab {
            flex: 1; padding: 12px 5px; border: none; 
            border-radius: 15px; background: rgba(255,255,255,0.4); 
            cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: #444; display: flex; flex-direction: column; align-items: center; gap: 2px;
        }
        .time-tab.active {
            background: #fff !important; color: #4facfe !important;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1); transform: translateY(-8px);
        }
        .time-tab:hover:not(.active) { background: rgba(255,255,255,0.7); transform: translateY(-3px); }
        .tab-label { font-size: 13px; font-weight: 800; white-space: nowrap; }
        .tab-date { font-size: 9px; opacity: 0.8; font-weight: 600; font-family: monospace; }
        .tab-count { font-size: 11px; font-weight: 700; margin-top: 2px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="alert-banner" id="alertBanner" style="display: none;" onclick="filterTasks('overdue')">
            <div class="alert-icon">üö®</div>
            <div class="alert-content"><p id="alertText"></p></div>
        </div>

        <div class="header">
            <h1>üìã Todo Manager Pro</h1>
            <p style="font-size: 13px; color: #636e72; font-weight: 500;">H·ªá th·ªëng qu·∫£n l√Ω c√¥ng vi·ªác t·ªëi gi·∫£n & hi·ªáu qu·∫£</p>

            <div class="stats-bar" id="statsBar">
                <div class="stat-item overdue" onclick="filterTasks('overdue', this)">
                    <div class="stat-icon">üö´</div>
                    <div class="stat-value" id="statOverdue">0</div>
                    <div class="stat-label">Qu√° h·∫°n</div>
                </div>
                <div class="stat-item safe" onclick="filterTasks('completed', this)">
                    <div class="stat-icon">üèÜ</div>
                    <div class="stat-value" id="statSafe">0</div>
                    <div class="stat-label">Ho√†n th√†nh</div>
                </div>
            </div>
        </div>

        <div class="tabs-container">
            <button id="defaultTab" class="time-tab" onclick="filterByTime('today', this)">
                <span class="tab-label">üìÖ Ng√†y</span>
                <span class="tab-date" id="displayDate"></span>
                <span class="tab-count">(<span id="todoToday">0</span>)</span>
            </button>
            <button class="time-tab" onclick="filterByTime('week', this)">
                <span class="tab-label">üóìÔ∏è Tu·∫ßn</span>
                <span class="tab-date" id="displayWeek"></span>
                <span class="tab-count">(<span id="todoWeek">0</span>)</span>
            </button>
            <button class="time-tab" onclick="filterByTime('month', this)">
                <span class="tab-label">üìä Th√°ng</span>
                <span class="tab-date" id="displayMonth"></span>
                <span class="tab-count">(<span id="todoMonth">0</span>)</span>
            </button>
            <button class="time-tab" onclick="filterTasks('all', this)">
                <span class="tab-label">üëÅÔ∏è T·∫•t c·∫£</span>
                <span class="tab-date">To√†n b·ªô</span>
                <span class="tab-count">---</span>
            </button>
        </div>
        <div class="tasks-grid" id="tasksGrid" style="background: rgba(255,255,255,0.8); padding: 20px; border-radius: 0 0 24px 24px; min-height: 120px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); border: 1px solid rgba(255,255,255,0.3); border-top: none;"></div>
    </div>

    <div class="modal-overlay" id="taskModal">
        <div class="add-task-section">
            <button onclick="toggleModal()" style="position:absolute; right:20px; top:20px; border:none; background:none; cursor:pointer; font-size:20px; color:#b2bec3">‚úï</button>
            <h2 style="margin-bottom:20px; font-size: 22px; color: #2d3436;">‚ûï Th√™m vi·ªác m·ªõi</h2>
            <div id="multiTaskContainer" style="max-height: 350px; overflow-y: auto; margin-bottom: 15px; border: 1px solid #f1f2f6; padding: 10px; border-radius: 16px; background: #fafafa;"></div>
            <button onclick="addTaskRow()" style="width:100%; padding:10px; margin-bottom:15px; border:2px dashed #dfe6e9; background:none; border-radius:12px; cursor:pointer; color:#636e72; font-weight:700; font-size: 13px;">+ Th√™m d√≤ng c√¥ng vi·ªác</button>
            <div class="form-group">
                <label>M·ª©c ƒë·ªô ∆∞u ti√™n</label>
                <select id="taskPriority">
                    <option value="high">üî¥ Cao</option>
                    <option value="medium" selected>üü° Trung b√¨nh</option>
                    <option value="low">üü¢ Th·∫•p</option>
                </select>
            </div>
            <button class="btn-add" onclick="addTask()">X√ÅC NH·∫¨N L∆ØU</button>
        </div>
    </div>

    <button class="btn-open-modal" onclick="toggleModal()">+</button>

    <script>
        let tasks = [];
        let currentFilter = 'all';
        let editingTaskId = null;
        let db;
        const DB_NAME = "TodoDBPro";
        const STORE_NAME = "tasks_store";

        const request = indexedDB.open(DB_NAME, 1);
        request.onupgradeneeded = e => {
            db = e.target.result;
            if (!db.objectStoreNames.contains(STORE_NAME)) db.createObjectStore(STORE_NAME, { keyPath: "id" });
        };
        request.onsuccess = e => {
            db = e.target.result;
            loadTasksFromDB();
            registerServiceWorker(); // G·ªçi ƒëƒÉng k√Ω SW
        };

        // H√†m ƒëƒÉng k√Ω Service Worker
        function registerServiceWorker() {
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => {
                        console.log('SW Registered');
                        if (Notification.permission !== 'granted') {
                            Notification.requestPermission();
                        }
                    })
                    .catch(err => console.log('SW Registration Failed', err));
            }
        }

        function saveToDB() {
            if (!db) return;
            const tx = db.transaction(STORE_NAME, "readwrite");
            const store = tx.objectStore(STORE_NAME);
            store.put({ id: "current_tasks_list", data: tasks });
        }

        function loadTasksFromDB() {
            const tx = db.transaction(STORE_NAME, "readonly");
            const store = tx.objectStore(STORE_NAME);
            const req = store.get("current_tasks_list");
            req.onsuccess = () => {
                if (req.result) {
                    tasks = req.result.data;
                    document.getElementById('defaultTab').click();
                }
                updateStats(); 
            };
        }

        function addTaskRow(val = "", isRequired = false) {
            const container = document.getElementById('multiTaskContainer');
            const div = document.createElement('div');
            div.className = 'task-row-input';
            div.style = 'background:white; padding:12px; border-radius:12px; margin-bottom:10px; position:relative; border:1px solid #eee; box-shadow: 0 2px 4px rgba(0,0,0,0.02)';
            div.innerHTML = `
                <label style="font-size:11px; font-weight:800; color:#4facfe; display:block; margin-bottom:5px; text-transform: uppercase;">${isRequired ? val : 'C√îNG VI·ªÜC KH√ÅC'} <span style="color:#ff7675">*</span></label>
                <input type="text" class="multi-title" required placeholder="N·ªôi dung c·∫ßn l√†m..." style="margin-bottom:8px; padding:10px; width:100%; border:1px solid #f1f2f6; border-radius:8px; font-size:14px;">
                <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px">
                    <input type="number" class="multi-duration" value="1" style="padding:10px; border:1px solid #f1f2f6; border-radius:8px; font-size:13px;">
                    <select class="multi-unit" style="padding:10px; border:1px solid #f1f2f6; border-radius:8px; font-size:13px;">
                        <option value="hours">Gi·ªù</option>
                        <option value="days" selected>Ng√†y</option>
                        <option value="weeks">Tu·∫ßn</option>
                    </select>
                </div>
                ${!isRequired ? `<button onclick="this.parentElement.remove()" style="position:absolute; right:10px; top:10px; border:none; background:none; color:#ff7675; cursor:pointer; font-weight:bold; font-size:16px;">‚úï</button>` : ''}
            `;
            container.appendChild(div);
        }

        function toggleModal() {
            const modal = document.getElementById('taskModal');
            if (modal.style.display !== 'flex') {
                if (!editingTaskId) {
                    document.querySelector('#taskModal h2').textContent = "‚ûï Th√™m vi·ªác m·ªõi";
                    document.querySelector('.btn-add').textContent = "X√ÅC NH·∫¨N L∆ØU";
                    resetForm();
                    document.getElementById('multiTaskContainer').innerHTML = '';
                    addTaskRow("Gi√° tr·ªã nh·∫•t h√¥m nay l√† g√¨", true);
                    addTaskRow("Vi·ªác phi·ªÅn ph·ª©c nh·∫•t h√¥m nay l√† g√¨", true);
                }
                modal.style.display = 'flex';
            } else {
                modal.style.display = 'none';
                resetForm();
            }
        }

        function autoCalcDeadline(val, unit) {
            if (isNaN(val)) return new Date().toISOString();
            const now = new Date();
            if (unit === 'hours') now.setHours(now.getHours() + val);
            else if (unit === 'days') now.setDate(now.getDate() + val);
            else if (unit === 'weeks') now.setDate(now.getDate() + (val * 7));
            now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
            return now.toISOString();
        }

        function getDeadlineStatus(deadline, completed) {
            if (completed) return 'completed';
            const diff = new Date(deadline) - new Date();
            if (diff < 0) return 'overdue';
            if (diff / 3600000 < 48) return 'urgent';
            if (diff / 3600000 < 168) return 'warning';
            return 'safe';
        }

        function updateStats() {
            const stats = { overdue: 0, completed: 0 };
            const now = new Date();

            if(document.getElementById('displayDate')) {
                document.getElementById('displayDate').textContent = now.toLocaleDateString('vi-VN');
            }
            if(document.getElementById('displayWeek')) {
                const startWeek = new Date(now);
                const day = now.getDay() || 7;
                startWeek.setDate(now.getDate() - day + 1);
                const endWeek = new Date(startWeek);
                endWeek.setDate(startWeek.getDate() + 6);
                document.getElementById('displayWeek').textContent = `${startWeek.getDate()}/${startWeek.getMonth()+1}-${endWeek.getDate()}/${endWeek.getMonth()+1}`;
            }
            if(document.getElementById('displayMonth')) {
                document.getElementById('displayMonth').textContent = `T${now.getMonth() + 1}/${now.getFullYear()}`;
            }

            let counts = { today: 0, week: 0, month: 0 };
            tasks.forEach(t => {
                const s = getDeadlineStatus(t.deadline, t.completed);
                if (s === 'completed') stats.completed++; 
                else if (s === 'overdue') stats.overdue++;

                if (!t.completed) {
                    const d = new Date(t.deadline);
                    const isToday = d.toDateString() === now.toDateString();
                    const firstDayOfWeek = new Date(now);
                    const day = now.getDay() || 7; 
                    firstDayOfWeek.setDate(now.getDate() - day + 1);
                    firstDayOfWeek.setHours(0,0,0,0);
                    const lastDayOfWeek = new Date(firstDayOfWeek);
                    lastDayOfWeek.setDate(firstDayOfWeek.getDate() + 6);
                    lastDayOfWeek.setHours(23,59,59,999);
                    const isThisWeek = d >= firstDayOfWeek && d <= lastDayOfWeek;
                    const isThisMonth = d.getMonth() === now.getMonth() && d.getFullYear() === now.getFullYear();

                    if (isToday) counts.today++;
                    else if (isThisWeek) counts.week++;
                    else if (isThisMonth) counts.month++;
                }
            });
            
            if(document.getElementById('statOverdue')) document.getElementById('statOverdue').textContent = stats.overdue;
            if(document.getElementById('statSafe')) document.getElementById('statSafe').textContent = stats.completed;
            document.getElementById('todoToday').textContent = counts.today;
            document.getElementById('todoWeek').textContent = counts.week;
            document.getElementById('todoMonth').textContent = counts.month;
            
            const banner = document.getElementById('alertBanner');
            if (stats.overdue > 0) {
                banner.style.display = 'flex';
                document.getElementById('alertText').innerHTML = `<b>CH√ö √ù:</b> ${stats.overdue} vi·ªác qu√° h·∫°n! Nh·∫•p ƒë·ªÉ l·ªçc.`;
            } else banner.style.display = 'none';
        }

        function filterByTime(range, el) {
            currentFilter = range;
            document.querySelectorAll('.time-tab').forEach(t => t.classList.remove('active'));
            if(el) el.classList.add('active');

            const now = new Date();
            let filtered = tasks.filter(t => {
                if (t.completed) return false;
                const d = new Date(t.deadline);
                const isToday = d.toDateString() === now.toDateString();
                const startWeek = new Date(now);
                const day = now.getDay() || 7;
                startWeek.setDate(now.getDate() - day + 1);
                startWeek.setHours(0,0,0,0);
                const endWeek = new Date(startWeek);
                endWeek.setDate(startWeek.getDate() + 6);
                endWeek.setHours(23,59,59,999);
                const isThisWeek = d >= startWeek && d <= endWeek;
                const isThisMonth = d.getMonth() === now.getMonth() && d.getFullYear() === now.getFullYear();

                if (range === 'today') return isToday;
                if (range === 'week') return isThisWeek && !isToday;
                if (range === 'month') return isThisMonth && !isThisWeek && !isToday;
                return true;
            });
            renderTasks(filtered);
        }

        function renderTasks(customList = null) {
            const grid = document.getElementById('tasksGrid');
            let filtered = customList;
            if (!filtered) {
                filtered = (currentFilter === 'all') ? tasks : tasks.filter(t => getDeadlineStatus(t.deadline, t.completed) === currentFilter);
            }
            grid.innerHTML = filtered.length ? filtered.map(t => `
                <div class="task-card ${getDeadlineStatus(t.deadline, t.completed)}">
                    <div class="task-title">
                        <span>${t.completed ? '‚úÖ ' : ''}${t.title} <span class="priority-badge">${t.priority}</span></span>
                        ${t.detail ? `<span class="task-detail-sub">- ${t.detail}</span>` : ''}
                    </div>
                    <div class="task-footer-mobile">
                        <div class="deadline-info">üïí ${new Date(t.deadline).toLocaleString('vi-VN', {hour:'2-digit', minute:'2-digit', day:'2-digit', month:'2-digit'})}</div>
                        <div style="display: flex; gap: 8px; align-items: center;">
                            <button class="btn-icon" style="background:#f1f2f6" onclick="editTask(${t.id})">‚úèÔ∏è</button>
                            <button class="btn-icon" style="background:${t.completed ? '#ffeaa7' : '#55efc4'}" onclick="completeTask(${t.id})">${t.completed ? '‚Ü©Ô∏è' : '‚úì'}</button>
                            <button class="btn-icon" style="background:#fab1a0" onclick="deleteTask(${t.id})">üóëÔ∏è</button>
                        </div>
                    </div>
                </div>
            `).join('') : '<div style="text-align:center; padding:40px; color:#b2bec3; font-weight:600;">‚òï M·ªçi th·ª© ƒë√£ ho√†n t·∫•t!</div>';
        }

        function addTask() {
            const rows = document.querySelectorAll('.task-row-input');
            const priority = document.getElementById('taskPriority').value;

            if (editingTaskId) {
                const title = rows[0].querySelector('.multi-title').value.trim();
                const dur = parseFloat(rows[0].querySelector('.multi-duration').value);
                const unit = rows[0].querySelector('.multi-unit').value;
                if (!title) return alert("Vui l√≤ng nh·∫≠p n·ªôi dung!");
                const index = tasks.findIndex(t => t.id === editingTaskId);
                if (index !== -1) {
                    tasks[index] = { ...tasks[index], title, deadline: autoCalcDeadline(dur, unit), priority };
                }
                editingTaskId = null;
            } else {
                let hasEmpty = false;
                rows.forEach(row => {
                    if (!row.querySelector('.multi-title').value.trim()) hasEmpty = true;
                });
                if (hasEmpty) return alert("Vui l√≤ng ƒëi·ªÅn ƒë·ªß th√¥ng tin!");
                rows.forEach(row => {
                    const title = row.querySelector('.multi-title').value.trim();
                    const dur = parseFloat(row.querySelector('.multi-duration').value);
                    const unit = row.querySelector('.multi-unit').value;
                    if (!isNaN(dur)) {
                        tasks.unshift({ id: Date.now() + Math.random(), title, detail: "", deadline: autoCalcDeadline(dur, unit), priority, completed: false });
                    }
                });
            }
            saveToDB(); toggleModal(); updateStats(); renderTasks(); resetForm();
        }

        function editTask(id) {
            const t = tasks.find(x => x.id === id);
            if (!t) return;
            editingTaskId = id;
            document.getElementById('multiTaskContainer').innerHTML = '';
            addTaskRow(t.title, true);
            document.querySelector('.task-row-input label').textContent = `S·ª¨A C√îNG VI·ªÜC *`;
            document.querySelector('.multi-title').value = t.title;
            document.getElementById('taskPriority').value = t.priority;
            document.querySelector('#taskModal h2').textContent = "üìù S·ª≠a c√¥ng vi·ªác";
            document.querySelector('.btn-add').textContent = "C·∫¨P NH·∫¨T";
            document.getElementById('taskModal').style.display = 'flex';
        }

        function resetForm() {
            document.getElementById('multiTaskContainer').innerHTML = '';
            editingTaskId = null;
        }

        function filterTasks(f, el) { 
            currentFilter = f; 
            document.querySelectorAll('.time-tab').forEach(t => t.classList.remove('active'));
            if(el) el.classList.add('active');
            renderTasks(); 
        }

        function completeTask(id) { 
            const t = tasks.find(x => x.id === id); 
            if(t) t.completed = !t.completed; 
            saveToDB(); 
            updateStats(); 
            if(['today', 'week', 'month'].includes(currentFilter)) {
                filterByTime(currentFilter);
            } else {
                renderTasks();
            }
        }

        function deleteTask(id) { if(confirm("X√°c nh·∫≠n x√≥a?")) { tasks = tasks.filter(x => x.id !== id); saveToDB(); updateStats(); if(currentFilter === 'today' || currentFilter === 'week' || currentFilter === 'month') { filterByTime(currentFilter); } else { renderTasks(); } } }
    </script>
</body>
</html>