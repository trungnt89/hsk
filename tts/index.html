<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TTS Client Test</title>
    
    <script src="../com/TTSClient.js"></script>
</head>
<body>

    <div style="max-width: 400px; margin: 50px auto; text-align: center; border: 1px solid #ccc; padding: 20px; border-radius: 10px;">
        <h3>TTS Client Test</h3>
        <textarea id="txtContent" rows="4" style="width:100%; margin-bottom:10px;">ã“ã‚“ã«ã¡ã¯ã€ãŠå…ƒæ°—ã§ã™ã‹ï¼Ÿ</textarea>
        
        <button onclick="handleSpeak()">ğŸ”Š PhÃ¡t Ã¢m thanh</button>
        
        <audio id="audioPlayer" hidden></audio>
        <p id="status" style="color: gray; font-size: 12px; margin-top: 10px;">Sáºµn sÃ ng</p>
    </div>

    <script>
        async function handleSpeak() {
            const text = document.getElementById('txtContent').value;
            const player = document.getElementById('audioPlayer');
            const status = document.getElementById('status');

            if (!text) return alert("Vui lÃ²ng nháº­p vÄƒn báº£n");

            status.innerText = "â³ Äang xá»­ lÃ½ (Cache/API)...";

            // Gá»i hÃ m tá»« TTSClient.js Ä‘Ã£ nhÃºng phÃ­a trÃªn
            await speakCommon({
                text: text,
                voice: "ja-JP-KeitaNeural", // Giá»ng Nháº­t Nam
                lang: "ja-JP",
                rate: "1.0",
                audioControl: player
            });

            status.innerText = "âœ… ÄÃ£ phÃ¡t xong";
        }
    </script>
</body>
</html>