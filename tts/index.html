<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>TTS Stable Cache</title>
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 500px; margin: auto; }
        .card { border: 1px solid #ddd; padding: 20px; border-radius: 10px; }
        #log-area { background: #000; color: #0f0; padding: 10px; height: 200px; overflow-y: auto; font-family: monospace; font-size: 12px; margin-top: 10px; }
        button { width: 100%; padding: 10px; cursor: pointer; background: #007bff; color: #fff; border: none; }
    </style>
</head>
<body>

<div class="card">
    <h3>üöÄ TTS High Speed</h3>
    <input type="text" id="txt" style="width:100%;" value="H·ªá th·ªëng cache ƒë√£ s·ª≠a l·ªói g·ªçi h√†m.">
    <br><br>
    <input type="text" id="fname" style="width:100%;" value="fixed_test_01">
    <br><br>
    <button id="btn" onclick="start()">PH√ÅT √ÇM THANH</button>
    <div id="log-area"></div>
</div>

<script src="tts.js"></script>

<script>
    // Ghi log ra m√†n h√¨nh
    const area = document.getElementById('log-area');
    const originalLog = console.log;
    console.log = function(msg) {
        area.innerHTML += `<div>${msg}</div>`;
        area.scrollTop = area.scrollHeight;
        originalLog.apply(console, arguments);
    };

    function start() {
        const text = document.getElementById('txt').value;
        const filename = document.getElementById('fname').value;
        
        // Ki·ªÉm tra xem h√†m ƒë√£ t·ªìn t·∫°i ch∆∞a tr∆∞·ªõc khi g·ªçi
        if (typeof processTTS === 'function') {
            processTTS(text, filename);
        } else {
            console.log("%c[ERROR] H√†m processTTS ch∆∞a ƒë∆∞·ª£c t·∫£i. Vui l√≤ng ki·ªÉm tra file tts.js", "color: red");
        }
    }
</script>
</body>
</html>