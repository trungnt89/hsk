<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>TTS Module Test</title>
    <style>
        body { font-family: system-ui; padding: 30px; line-height: 1.6; max-width: 500px; margin: auto; }
        .box { border: 1px solid #ccc; padding: 20px; border-radius: 8px; background: #fff; }
        input, textarea, select, button { width: 100%; margin-bottom: 10px; padding: 10px; box-sizing: border-box; }
        button { background: #007bff; color: white; border: none; font-weight: bold; cursor: pointer; }
        #status { font-size: 13px; color: #555; text-align: center; }
    </style>
</head>
<body>

<div class="box">
    <h3>üéôÔ∏è TTS Encapsulated</h3>
    
    <textarea id="text" placeholder="Nh·∫≠p vƒÉn b·∫£n...">Xin ch√†o, t√¥i ƒë√£ ƒë∆∞·ª£c ƒë√≥ng g√≥i ho√†n to√†n.</textarea>
    <input type="text" id="filename" placeholder="ID file (v√≠ d·ª•: test_01)" value="test_01">
    
    <select id="voice">
        <option value="vi-VN-HoaiMyNeural">Ho√†i My (N·ªØ)</option>
        <option value="vi-VN-NamMinhNeural">Nam Minh (Nam)</option>
    </select>
    
    <input type="number" id="rate" value="1.0" step="0.1" min="0.5" max="2.0">

    <button id="btn" onclick="handleAction()">PH√ÅT √ÇM THANH</button>
    <div id="status">S·∫µn s√†ng</div>
</div>

<script src="./client.js"></script>
<script>
    async function handleAction() {
        const btn = document.getElementById('btn');
        const status = document.getElementById('status');

        // CH·ªà TRUY·ªÄN THAM S·ªê
        const params = {
            text: document.getElementById('text').value,
            filename: document.getElementById('filename').value,
            voice: document.getElementById('voice').value,
            rate: document.getElementById('rate').value,
            lang: 'vi-VN' // M·∫∑c ƒë·ªãnh
        };

        try {
            btn.disabled = true;
            // G·ªçi engine ƒë√£ ƒë√≥ng g√≥i
            await TTSClient.execute(params, (msg) => status.innerText = msg);
        } catch (e) {
            console.error(e);
        } finally {
            btn.disabled = false;
        }
    }
</script>
</body>
</html>